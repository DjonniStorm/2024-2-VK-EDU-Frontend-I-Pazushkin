(()=>{"use strict";var e=document.querySelector(".chat__form"),t=document.querySelector(".chat__form-input"),n=document.querySelector(".chat__messages-layout"),r="chat-messages",a=prompt("–í–≤–µ–¥–∏—Ç–µ –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è"),c=document.querySelector(".contacts__header-username");function o(){try{var e=function(){try{var e=localStorage.getItem(r);return JSON.parse(e)}catch(e){throw new Error("Can`t get data")}}();n.innerHTML="",e.forEach((function(e){var t=document.createElement("div"),r="sent-message";e.from!==a&&(r="received-message"),t.classList.add("message",r);var c=document.createElement("p"),o=document.createElement("p"),s=document.createElement("p");c.innerText=e.from,o.innerText=e.text,s.innerText=e.time,o.classList.add("message__content--text"),[c,o,s].forEach((function(e){e.classList.add("message__content"),t.appendChild(e)})),n.prepend(t)}))}catch(e){console.warn(e)}}document.addEventListener("DOMContentLoaded",(function(){o(),c.innerText=a.trim()?a:"üë®üèª‚Äçüíª"})),e.addEventListener("submit",(function(e){e.preventDefault(),t.value.trim()&&(function(e){try{var t=localStorage.getItem(r),n={time:(new Date).toLocaleTimeString().substring(0,5),text:e,from:a};if(t){var c=JSON.parse(t);return c.push(n),void localStorage.setItem(r,JSON.stringify(c))}localStorage.setItem(r,JSON.stringify([n]))}catch(e){console.warn(e)}}(t.value),t.value="",o())})),e.addEventListener("keypress",(function(t){13===t.keyCode&&e.dispatchEvent(new Event("submit"))}))})();